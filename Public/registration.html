<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <title> Registration Form</title>
        <link rel="stylesheet" type="text/css" href="./css/registration.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

    </head>
<body>
    <div class="container">
        <div class="title">Registration</div>
        <form action="/submit"  name="registrationForm" onsubmit="return validateForm()"  method="post">
            <div class="user-details">
                <div class="input-box" id="name">
                    <span class="details">Full Name</span>
                    <input type="text" name="name" placeholder="Enter Your Name" required>
                    <b><span class="formerror"></span></b>
                </div>
                <div class="input-box" id="username">
                    <span class="details">Username</span>
                    <input type="text" name = "username" placeholder="Enter Your Username" required>
                    <b><span class="formerror"></span></b>
                </div>
                <div class="input-box" id="email">
                    <span class="details">Email</span>
                    <input type="text" name = "email" placeholder="Enter Your email" required>
                    <b><span class="formerror"></span></b>
                </div>
                <div class="input-box" id="phoneNumber">
                    <span class="details">Phone Number</span>
                    <input type="number" name = "phoneNumber" placeholder="Enter Your number" required>
                    <b><span class="formerror"></span></b>
                </div>
                <div class="input-box" id="password">
                    <span class="details">Password</span>
                    <input type="password" name = "password" placeholder="Enter Your password" required>
                    <b><span class="formerror"></span></b>
                </div>
                <div class="input-box" id="cpass">
                    <span class="details">Confirm Password</span>
                    <input type="password" name = "cpass" placeholder="Confirm your password" required>
                    <b><span class="formerror"></span></b>
                </div>
            </div>
            <div class="gender-details">
                <input type="radio" name="gender" value="male" id="dot-1">
                <input type="radio" name="gender" value="Female" id="dot-2">
                <input type="radio" name="gender" value="Prefer not to say" id="dot-3">
                <span class="gender-title">Gender</span>
                <div class="category">
                    <label for="dot-1">
                        <span class="dot one"></span>
                        <span class="gender">Male</span>
                    </label>
                    <label for="dot-2">
                        <span class="dot two"></span>
                        <span class="gender">Female</span>
                    </label>
                    <label for="dot-3">
                        <span class="dot three"></span>
                        <span class="gender">Prefer not to say</span>
                    </label>
                </div>
            </div>
            <div class="button">
                <input type="submit" value="Register">
            </div>
        </form>
    </div>

</body>
<script>
    function clearErrors(){
        errors = document.getElementsByClassName('formerror');
        for(let item of errors)
        {
            item.innerHTML = "";
        }
    }
    function seterror(id,error){
        element = document.getElementById(id);
        element.getElementsByClassName('formerror')[0].innerHTML = error;
    }
    function validateForm(){
        var returnval = true;
        clearErrors();            
        var name = document.forms['registrationForm']["name"].value;
        if(name.length < 5){
            seterror("name","Length of name is too short");
            returnval = false;
        }
        var username = document.forms['registrationForm']["username"].value;
        if(username.length < 5){
            seterror("username","Length of usernamename sholud be more than 3 charcter");
            returnval = false;
        }
        var email = document.forms['registrationForm']["email"].value;
        const regex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
        if(!regex.test(email)){
            seterror("email","not a vaild email id");
            returnval = false;
        }
        var phoneNumber = document.forms['registrationForm']["phoneNumber"].value;
        if(phoneNumber.length != 10){
            seterror("phoneNumber","Length of mobile number should be 10");
            returnval = false;
        }
        var password = document.forms['registrationForm']["password"].value;
        if(password.length <4){
            seterror("password","*Password sholud be at least 4 character");
            returnval = false;
        }
        var cpassword = document.forms['registrationForm']["cpass"].value;
        var res = password.localeCompare(cpassword);
        console.log(res);
        if(res == -1){
            seterror("cpass","*Password does not match");
            returnval = false;
        }

        return returnval;
    }


</script>
</html>
